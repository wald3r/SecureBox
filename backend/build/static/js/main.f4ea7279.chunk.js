(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{111:function(e,t,a){e.exports=a.p+"static/media/welcome1.b2065f1e.jpg"},112:function(e,t,a){e.exports=a.p+"static/media/welcome2.dd5da491.jpg"},113:function(e,t,a){e.exports=a.p+"static/media/welcome3.7e758a00.jpg"},114:function(e,t,a){e.exports=a.p+"static/media/welcome4.99c1e010.jpg"},122:function(e,t,a){e.exports=a(212)},21:function(e,t,a){},212:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),l=a.n(c),s=a(10),o=a(29),u=a(39),i=a(75),d=a(1),m=a.n(d),p=a(11),f=a.n(p),E="/api/files",h=null,v=function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t={headers:{Authorization:h}},a.next=3,m.a.awrap(f.a.delete("".concat(E,"/remove/").concat(e),t));case 3:case"end":return a.stop()}}))},b=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:h}},n.next=3,m.a.awrap(f.a.post("".concat(E,"/decrypt/"),e,t));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}))},w=function(e,t){var a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a={responseType:"blob",headers:{Authorization:h}},r.next=3,m.a.awrap(f.a.post("".concat(E,"/download/encrypted/").concat(e),{password:t},a));case 3:return n=r.sent,r.abrupt("return",n);case 5:case"end":return r.stop()}}))},y=function(e,t){var a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a={headers:{Authorization:h}},r.next=3,m.a.awrap(f.a.post("".concat(E,"/public/mail/").concat(e),{mail:t},a));case 3:return n=r.sent,r.abrupt("return",n);case 5:case"end":return r.stop()}}))},g=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:h}},n.next=3,m.a.awrap(f.a.post("".concat(E,"/encrypt/"),e,t));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}))},x=function(){var e,t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={headers:{Authorization:h}},a.next=3,m.a.awrap(f.a.get("".concat(E,"/music/"),e));case 3:return t=a.sent,a.abrupt("return",t);case 5:case"end":return a.stop()}}))},O=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:h}},n.next=3,m.a.awrap(f.a.get("".concat(E,"/public/").concat(e),t));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}))},N=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:h}},n.next=3,m.a.awrap(f.a.get("".concat(E,"/favourites/").concat(e),t));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}))},S=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={responseType:"blob",headers:{Authorization:h}},n.next=3,m.a.awrap(f.a.get("".concat(E,"/download/").concat(e),t));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}))},j=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:h}},n.next=3,m.a.awrap(f.a.post("".concat(E,"/upload"),e,t));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}))},C=function(e){h="bearer ".concat(e)},k=function(){var e,t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={headers:{Authorization:h}},a.next=3,m.a.awrap(f.a.get(E,e));case 3:return t=a.sent,a.abrupt("return",t);case 5:case"end":return a.stop()}}))},T=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:h}},n.next=3,m.a.awrap(f.a.delete("".concat(E,"/eremove/").concat(e),t));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}))},D=function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t={headers:{Authorization:h}},a.next=3,m.a.awrap(f.a.delete("".concat(E,"/dremove/").concat(e),t));case 3:case"end":return a.stop()}}))},A=function(){var e,t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={headers:{Authorization:h}},a.next=3,m.a.awrap(f.a.get("".concat(E,"/pictures/"),e));case 3:return t=a.sent,a.abrupt("return",t);case 5:case"end":return a.stop()}}))},U=function(){var e,t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={headers:{Authorization:h}},a.next=3,m.a.awrap(f.a.get("".concat(E,"/documents/"),e));case 3:return t=a.sent,a.abrupt("return",t);case 5:case"end":return a.stop()}}))},F=null,M=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:F}},n.next=3,m.a.awrap(f.a.delete("".concat("/api/users","/remove/").concat(e),t));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}))},R=function(e,t){var a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a={headers:{Authorization:F}},r.next=3,m.a.awrap(f.a.put("".concat("/api/users","/details/").concat(t),e,a));case 3:return n=r.sent,r.abrupt("return",n);case 5:case"end":return r.stop()}}))},P=function(e,t){var a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a={headers:{Authorization:F}},r.next=3,m.a.awrap(f.a.put("".concat("/api/users","/password/").concat(t),e,a));case 3:return n=r.sent,r.abrupt("return",n);case 5:case"end":return r.stop()}}))},_=function(e){F="bearer ".concat(e)},I=function(){var e,t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={headers:{Authorization:F}},a.next=3,m.a.awrap(f.a.get("/api/users",e));case 3:return t=a.sent,a.abrupt("return",t);case 5:case"end":return a.stop()}}))},L=function(e,t){var a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a={headers:{Authorization:F}},r.next=3,m.a.awrap(f.a.put("".concat("/api/users","/check/").concat(t),e,a));case 3:return n=r.sent,r.abrupt("return",n);case 5:case"end":return r.stop()}}))},z="https://fast-peak-66768.herokuapp.com/api/files/download/public/",B=20,H=5e3,q=5e3,V=null,G=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:V}},n.next=3,m.a.awrap(f.a.post("/api/mimes",e,t));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}))},K=function(e){V="bearer ".concat(e)},Y=function(){var e,t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={headers:{Authorization:V}},a.next=3,m.a.awrap(f.a.get("/api/mimes",e));case 3:return t=a.sent,a.abrupt("return",t);case 5:case"end":return a.stop()}}))},J=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:V}},n.next=3,m.a.awrap(f.a.delete("".concat("/api/mimes","/remove/").concat(e),t));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}))},W=null,Q=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:W}},n.next=3,m.a.awrap(f.a.post("/api/notes",e,t));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}))},X=function(e){W="bearer ".concat(e)},Z=function(){var e,t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={headers:{Authorization:W}},a.next=3,m.a.awrap(f.a.get("/api/notes",e));case 3:return t=a.sent,a.abrupt("return",t);case 5:case"end":return a.stop()}}))},$=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:W}},n.next=3,m.a.awrap(f.a.delete("".concat("/api/notes","/remove/").concat(e),t));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}))},ee=function(e){return function(t){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:window.localStorage.setItem("loggedappUser",JSON.stringify(e)),C(e.token),_(e.token),K(e.token),X(e.token),t({type:"SETUSER",user:e});case 6:case"end":return a.stop()}}))}},te=function(){return function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:window.localStorage.removeItem("loggedappUser"),e({type:"LOGOUT"});case 2:case"end":return t.stop()}}))}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.type),t.type){case"ADDLASTUSED":var a=Object(i.a)({},e,{lastUsed:t.list});return a;case"REMOVELASTUSED":var n=Object(i.a)({},e,{lastUsed:t.list});return n;case"SETUSER":return t.user;case"LOGOUT":return null;case"UPDATEDETAILS":var r=Object(i.a)({},e,{name:t.details.name,username:t.details.username,email:t.details.email});return window.localStorage.removeItem("loggedappUser"),window.localStorage.setItem("loggedappUser",JSON.stringify(r)),r;default:return e}},ne=function(e,t){return function(a){return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"NOTIFICATION",data:e}),setTimeout((function(){a({type:"REMOVENOTIFICATION"})}),t);case 2:case"end":return n.stop()}}))}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFICATION":return t.data;case"REMOVENOTIFICATION":return"";default:return e}},ce=function(){return function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(k());case 2:if(400!==(t=n.sent).status){n.next=5;break}return n.abrupt("return");case 5:a=t.data,e({type:"GETFILES",data:a});case 7:case"end":return n.stop()}}))}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETFILES":case"SETFILES":case"GETDOCUMENTS":case"GETFAVOURITES":case"GETPICTURES":case"GETMUSIC":return t.data;case"CHANGEFILE":var a=e.filter((function(e){return e.id!==t.data.id}));return a.concat(t.data);case"REMOVEFILE":var n=e.filter((function(e){return e.id!==t.data.id}));return n;default:return e}},se=function(){return function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(Y());case 2:t=n.sent,a=t.data,e({type:"GETTYPES",data:a});case 5:case"end":return n.stop()}}))}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETTYPES":return t.data;case"ADDTYPE":return e.concat(t.data);case"REMOVETYPE":return e.filter((function(e){return e.id!==t.id}));default:return e}},ue=a(6),ie=function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(f.a.post("/api/login",e));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))},de=function(e,t){return function(a){return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"ERROR",data:e}),setTimeout((function(){a({type:"REMOVERROR"})}),t);case 2:case"end":return n.stop()}}))}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR":return t.data;case"REMOVERROR":return"";default:return e}},pe=a(223),fe=a(217),Ee=(a(21),function(e,t){e.response?t.handleError(e.response.data,q):e.request?t.handleError(e.request.data,q):t.handleError(e.message,q),console.error(e)}),he=function(e){return function(t){var a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.a.awrap(I());case 2:a=r.sent,n=a.data.filter((function(t){return t.id!==e.id})),t({type:"GETUSERS",users:n});case 5:case"end":return r.stop()}}))}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETUSERS":return t.users;case"CHANGEUSER":var a=e.filter((function(e){return e.id!==t.user.id}));return a.concat(t.user),a.concat(t.user);case"REMOVEUSER":return e.filter((function(e){return e.id!==t.user.id}));default:return e}},be={setUser:ee,handleNotification:ne,handleError:de,getFiles:ce,getUsers:he,getTypes:se},we=Object(s.b)((function(e){return{user:e.user,users:e.users}}),be)((function(e){var t=Object(n.useState)(""),a=Object(ue.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),o=Object(ue.a)(s,2),u=o[0],i=o[1];return r.a.createElement("div",{className:"container"},r.a.createElement(pe.a,{onSubmit:function(t){var a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.prev=1,n.next=4,m.a.awrap(ie({username:c,password:u}));case 4:a=n.sent,e.setUser(a),e.getTypes(),"admin"===a.role&&e.getUsers(a),e.handleNotification("Login successfull!",H),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),Ee(n.t0,e);case 14:case"end":return n.stop()}}),null,null,[[1,11]])}},r.a.createElement("table",{className:"table .table-striped",width:"10"},r.a.createElement("thead",{className:"thead-dark"}),r.a.createElement("tbody",{width:"10"},r.a.createElement("tr",null,r.a.createElement("td",{width:"10"},"Username:"),r.a.createElement("td",null,r.a.createElement("input",{id:"username",autoComplete:"off",required:!0,onChange:function(e){var t=e.target;return l(t.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",{width:"10"},"Password:"),r.a.createElement("td",null,r.a.createElement("input",{id:"password",autoComplete:"off",type:"password",required:!0,onChange:function(e){var t=e.target;return i(t.value)}}))))),r.a.createElement(fe.a,{className:"button",id:"login",type:"submit"},"Login")))})),ye=function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(f.a.post("/api/registration",e));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))},ge=a(218),xe={handleNotification:ne,handleError:de},Oe=Object(s.b)(null,xe)((function(e){var t=Object(n.useState)(""),a=Object(ue.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),o=Object(ue.a)(s,2),u=o[0],i=o[1],d=Object(n.useState)(""),p=Object(ue.a)(d,2),f=p[0],E=p[1],h=Object(n.useState)(""),v=Object(ue.a)(h,2),b=v[0],w=v[1],y=Object(n.useState)(""),g=Object(ue.a)(y,2),x=g[0],O=g[1],N=Object(n.useState)(!1),S=Object(ue.a)(N,2),j=S[0],C=S[1],k=Object(n.useState)(!1),T=Object(ue.a)(k,2),D=T[0],A=T[1];return j?r.a.createElement("div",{className:"container"},"Registration email has been sent out. Please follow the link in the email to activate your account."):r.a.createElement("div",{className:"container"},r.a.createElement(pe.a,{onSubmit:function(t){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),a.prev=1,f!==b){a.next=15;break}return A(!0),a.next=6,m.a.awrap(ye({username:c,password:f,name:x,email:u}));case 6:e.handleNotification("Registration successfull",H),C(!0),l(""),i(""),E(""),w(""),O(""),a.next=16;break;case 15:e.handleError("Passwords do not match",q);case 16:a.next=22;break;case 18:a.prev=18,a.t0=a.catch(1),A(!1),Ee(a.t0,e);case 22:case"end":return a.stop()}}),null,null,[[1,18]])}},r.a.createElement("table",{className:"table .table-striped",width:"10"},r.a.createElement("thead",{className:"thead-dark"}),r.a.createElement("tbody",{width:"10"},r.a.createElement("tr",null,r.a.createElement("td",{width:"10"},"Name:"),r.a.createElement("td",null,r.a.createElement("input",{id:"name",autoComplete:"off",type:"text",onChange:function(e){var t=e.target;return O(t.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",{width:"10"},"Username:"),r.a.createElement("td",null,r.a.createElement("input",{id:"username",autoComplete:"off",required:!0,type:"text",onChange:function(e){var t=e.target;return l(t.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",{width:"10"},"E-Mail:"),r.a.createElement("td",null,r.a.createElement("input",{id:"email",autoComplete:"off",required:!0,type:"email",onChange:function(e){var t=e.target;return i(t.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",{width:"10"},"Password:"),r.a.createElement("td",null,r.a.createElement("input",{id:"password1",autoComplete:"off",type:"password",required:!0,onChange:function(e){var t=e.target;return E(t.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",{width:"10"},"Repeat Password:"),r.a.createElement("td",null,r.a.createElement("input",{id:"password2",autoComplete:"off",type:"password",required:!0,onChange:function(e){var t=e.target;return w(t.value)}}))))),r.a.createElement("div",{style:{display:!1===D?"":"none"}},r.a.createElement(fe.a,{className:"button",id:"register",type:"submit"},"Register")),r.a.createElement("div",{style:{display:!0===D?"":"none"}},r.a.createElement(fe.a,{className:"button",id:"registering",type:"submit"},"  ",r.a.createElement(ge.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})," Registering..."))))})),Ne=Object(s.b)((function(e){return{notification:e.notification}}))((function(e){return""===e.notification?null:r.a.createElement("div",{className:"notification"},e.notification)})),Se=a(111),je=a.n(Se),Ce=a(112),ke=a.n(Ce),Te=a(113),De=a.n(Te),Ae=a(114),Ue=a.n(Ae),Fe=function(e){var t=Object(n.useState)(["",je.a,ke.a,De.a,Ue.a]),a=Object(ue.a)(t,2),c=a[0],l=(a[1],Math.floor(5*Math.random())),s=0===l?1:l;return r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("img",{src:c[s],alt:"background"}))},Me=a(115),Re=a(219),Pe=function(e){return e.toString().length<2?"0".concat(e):e};var _e={formatTime:function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(Pe(t.getMonth()+1),"-").concat(Pe(t.getDay()))},createName:function(e,t,a,n,r,c,l){var s,o=a.split("/");return s=""===c?new Date:c,""!==r?"".concat(e,"__").concat(l,"__").concat(t,"__").concat(Pe(s.getDate()),"-").concat(Pe(s.getMonth()+1),"-").concat(s.getFullYear(),"__").concat(r,".").concat(o[1]):"".concat(e,"__").concat(l,"__").concat(t,"__").concat(Pe(s.getDate()),"-").concat(Pe(s.getMonth()+1),"-").concat(s.getFullYear(),"__").concat(n,".").concat(o[1])},formatName:function(e){var t=e.split("__"),a=e;return t.length>1&&(a=t[3],a+=t[4]),a}},Ie=a(117),Le=a.n(Ie),ze=(a(149),a(225)),Be=function(e){var t=e.showAddEncryption,a=e.setShowAddEncryption,c=e.handleEncryption,l=Object(n.useState)(""),s=Object(ue.a)(l,2),o=s[0],u=s[1],i=function(){a(!1),window.location.reload()};return r.a.createElement("div",null,r.a.createElement(ze.a,{show:t,onHide:i},r.a.createElement(ze.a.Header,{closeButton:!0},r.a.createElement(ze.a.Title,null,"Add Encryption ")),r.a.createElement(pe.a,{onSubmit:function(e){a(!1),c(o,e)}},r.a.createElement(ze.a.Body,null,r.a.createElement("table",{className:"table .table-striped"},r.a.createElement("thead",{className:"thead-dark"}),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Password:"),r.a.createElement("td",null,r.a.createElement("input",{type:"text",required:!0,onChange:function(e){var t=e.target;return u(t.value)}})))))),r.a.createElement(ze.a.Footer,null,r.a.createElement(fe.a,{variant:"secondary",onClick:i},"No Encryption"),r.a.createElement(fe.a,{variant:"primary",type:"submit"},"Add Encryption")))))},He={handleNotification:ne,handleError:de,getFiles:ce,getTypes:se},qe=Object(s.b)((function(e){return{user:e.user,mimetypes:e.mimetypes}}),He)((function(e){var t=Object(Me.a)({},e),a=Object(n.useState)([]),c=Object(ue.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(""),u=Object(ue.a)(o,2),i=u[0],d=u[1],p=Object(n.useState)(""),f=Object(ue.a)(p,2),E=f[0],h=f[1],v=Object(n.useState)(!1),b=Object(ue.a)(v,2),w=b[0],y=b[1],x=Object(n.useState)(""),O=Object(ue.a)(x,2),N=O[0],S=O[1],C=Object(n.useState)(!1),k=Object(ue.a)(C,2),T=k[0],D=k[1],A=Object(n.useState)(!1),U=Object(ue.a)(A,2),F=U[0],M=U[1],R=Object(n.useState)(null),P=Object(ue.a)(R,2),_=P[0],I=P[1],L=Object(n.useState)(!1),z=Object(ue.a)(L,2),B=z[0],V=z[1],G=w?{padding:5,borderStyle:"solid",borderColor:"red",borderWidth:"thin"}:{padding:5,borderStyle:"solid",borderColor:"black",borderWidth:"thin"},K=function(){for(var e=t.mimetypes,a=!1,n=0;n<l.length;n++){for(var r=0;r<e.length;r++)if(e[r].name===l[n].type){a=!0;break}if(!1===a)return t.handleError("".concat(l[n].type," not supported format"),q),a}return a};return r.a.createElement("div",null,r.a.createElement(Be,{showAddEncryption:B,setShowAddEncryption:V,handleEncryption:function(e,a){return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.next=3,m.a.awrap(_.map((function(t){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(g({file:t,password:e}));case 2:case"end":return a.stop()}}))})));case 3:t.handleNotification("Files encrypted",H);case 4:case"end":return n.stop()}}))}}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"form-group files"},r.a.createElement(pe.a,{method:"POST",encType:"multipart/form-data",onSubmit:function(e){var a,n,r;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,M(!0),e.preventDefault(),0!==l.length){c.next=8;break}t.handleError("No files!",q),c.next=24;break;case 8:if(""!==i){c.next=12;break}t.handleError("Is it a document or a picture?",q),c.next=24;break;case 12:if(!1!==w){c.next=16;break}t.handleError("Save your settings!",q),c.next=24;break;case 16:if(!K()){c.next=24;break}for(a=new FormData,n=0;n<l.length;n++)a.append("file",l[n],"".concat(_e.createName(t.user.username,i,l[n].type,l[n].name,E,N,n+1)));return c.next=21,m.a.awrap(j(a));case 21:200===(r=c.sent).status?(y(!1),I(r.data),V(!0),t.handleNotification("All files uploaded",H)):t.handleError(r.data,q),s([]);case 24:M(!1),c.next=31;break;case 27:c.prev=27,c.t0=c.catch(0),M(!1),Ee(c.t0,t);case 31:case"end":return c.stop()}}),null,null,[[0,27]])}},r.a.createElement("input",{type:"file",autoComplete:"off",name:"files",multiple:!0,onChange:function(e){e.preventDefault(),s(e.target.files)}}),r.a.createElement(fe.a,{style:{display:!1===F?"":"none"},className:"button",type:"submit"},"Upload"),r.a.createElement(fe.a,{style:{display:!0===F?"":"none"},className:"button",type:"submit"},r.a.createElement(ge.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})," Uploading...")))),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:G},"Settings:",r.a.createElement(pe.a,{onSubmit:function(e){y(!w),w?(D(!1),h(""),d("")):(e.preventDefault(),D(!0))}},r.a.createElement(Re.a,{className:"mr-2","aria-label":"First group"},r.a.createElement(fe.a,{className:"fileButton",active:"Document"===i,disabled:T,onClick:function(){return d("Document")},variant:"primary"},"Documents"),r.a.createElement(fe.a,{className:"fileButton",active:"Picture"===i,disabled:T,onClick:function(){return d("Picture")},variant:"primary"},"Pictures"),r.a.createElement(fe.a,{className:"fileButton",active:"Music"===i,disabled:T,onClick:function(){return d("Music")},variant:"primary"},"Music")),r.a.createElement(Le.a,{onChange:function(e){S(e)},selected:N,disabled:T}),r.a.createElement("input",{onChange:function(e){var t=e.target;return h(t.value)},disabled:T}),r.a.createElement(fe.a,{type:"submit"},w?"Remove":"Save")))))})),Ve=Object(s.b)((function(e){return{error:e.error}}),null)((function(e){return""===e.error?null:r.a.createElement("div",{className:"error"},e.error)})),Ge=a(224),Ke=a(222),Ye=a(20),Je=a(221),We=a(48),Qe=a.n(We),Xe=a(220),Ze=function(e){var t=e.showDialog,a=e.handleShowDialog,n=e.link,c=(Object(Ye.a)(e,["showDialog","handleShowDialog","link"]),function(){a(!1)});return r.a.createElement("div",null,r.a.createElement(ze.a,{size:"lg",show:t,onHide:c},r.a.createElement(ze.a.Header,{closeButton:!0},r.a.createElement(ze.a.Title,null,"Public Link ")),r.a.createElement(ze.a.Body,null,r.a.createElement("input",{type:"text",style:{width:"90%"},id:"copyText",defaultValue:n}),r.a.createElement(fe.a,{"data-toggle":"tooltip","data-placement":"top",title:"Copy to clipboard",onClick:function(){var e=document.getElementById("copyText");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")}},r.a.createElement("i",{className:"fa fa-clipboard"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{color:"red"}},r.a.createElement(Xe.a,{variant:"secondary"},"Attention")," This is a one-time-only link. If not used, it will get invalid after midnight.")),r.a.createElement(ze.a.Footer,null,r.a.createElement(fe.a,{variant:"primary",onClick:c},"Close"))))},$e={handleNotification:ne,handleError:de},et=Object(s.b)(null,$e)((function(e){var t=e.showDialog,a=e.handleShowDialog,c=e.file,l=Object(Ye.a)(e,["showDialog","handleShowDialog","file"]),s=Object(n.useState)(""),o=Object(ue.a)(s,2),u=o[0],i=o[1],d=Object(n.useState)(""),p=Object(ue.a)(d,2),f=(p[0],p[1]),E=function(){a(!1)};return r.a.createElement("div",null,r.a.createElement(ze.a,{size:"lg",show:t,onHide:E},r.a.createElement(ze.a.Header,{closeButton:!0},r.a.createElement(ze.a.Title,null,"Send public link per email ")),r.a.createElement(pe.a,{onSubmit:function(e){var t;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.preventDefault(),n.next=4,m.a.awrap(y(c.id,u));case 4:t=n.sent,f("".concat(z).concat(t.data.hash)),a(!1),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Ee(n.t0,l);case 12:case"end":return n.stop()}}),null,null,[[0,9]])}},r.a.createElement(ze.a.Body,null,"Email: ",r.a.createElement("input",{type:"email",required:!0,onChange:function(e){var t=e.target;return i(t.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{color:"red"}},r.a.createElement(Xe.a,{variant:"secondary"},"Attention")," This will send a one-time-only link to the entered address. If not used, it will get invalid after midnight.")),r.a.createElement(ze.a.Footer,null,r.a.createElement(fe.a,{variant:"primary",type:"submit"},"Send"),r.a.createElement(fe.a,{variant:"secondary",onClick:E},"Close")))))})),tt=function(e){var t=e.showConfirmation,a=e.setConfirmation,n=e.handleConfirmation,c=function(){a(!1)};return r.a.createElement("div",null,r.a.createElement(ze.a,{show:t,onHide:c},r.a.createElement(ze.a.Header,{closeButton:!0},r.a.createElement(ze.a.Title,null,"Confirmation")),r.a.createElement(ze.a.Body,null,"Do you really want to proceed with this action?"),r.a.createElement(ze.a.Footer,null,r.a.createElement(fe.a,{id:"cancel",variant:"secondary",onClick:c},"Close"),r.a.createElement(fe.a,{id:"save",variant:"primary",onClick:function(){a(!1),n()}},"Yes"))))},at=function(e){var t=e.showEnterPassword,a=e.setShowEnterPassword,c=e.handleDownload,l=Object(n.useState)(""),s=Object(ue.a)(l,2),o=s[0],u=s[1],i=function(){return a(!1)};return r.a.createElement("div",null,r.a.createElement(ze.a,{show:t,onHide:i},r.a.createElement(ze.a.Header,{closeButton:!0},r.a.createElement(ze.a.Title,null,"Enter Password ")),r.a.createElement(pe.a,{onSubmit:function(e){return function(e){c(o,e),i()}(e)}},r.a.createElement(ze.a.Body,null,r.a.createElement("table",{className:"table .table-striped"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Password:"),r.a.createElement("td",null,r.a.createElement("input",{type:"text",required:!0,onChange:function(e){var t=e.target;return u(t.value)}})))))),r.a.createElement(ze.a.Footer,null,r.a.createElement(fe.a,{variant:"secondary",onClick:i},"Close"),r.a.createElement(fe.a,{variant:"primary",type:"submit"},"Enter Password")))))},nt={setFiles:function(e){return function(t){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t({type:"SETFILES",data:e});case 1:case"end":return a.stop()}}))}},handleNotification:ne,addLastUsed:function(e,t){return function(a){var n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:(n=t.lastUsed.filter((function(t){return t.id!==e.id}))).length<B?n.unshift(e):(n.pop(),n.unshift(e)),a({type:"ADDLASTUSED",list:n});case 3:case"end":return r.stop()}}))}},removeLastUsed:function(e,t){return function(a){var n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.lastUsed.filter((function(t){return t.id!==e})),a({type:"REMOVELASTUSED",list:n});case 2:case"end":return r.stop()}}))}},handleError:de,changeFile:function(e){return function(t){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t({type:"CHANGEFILE",data:e});case 1:case"end":return a.stop()}}))}},removeFile:function(e){return function(t){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t({type:"REMOVEFILE",data:e});case 1:case"end":return a.stop()}}))}}},rt=Object(s.b)((function(e){return{files:e.files,user:e.user}}),nt)((function(e){var t=e.filteredFiles,a=Object(Ye.a)(e,["filteredFiles"]),c=Object(n.useState)(!1),l=Object(ue.a)(c,2),s=l[0],o=l[1],u=Object(n.useState)([]),i=Object(ue.a)(u,2),d=i[0],p=i[1],f=Object(n.useState)(!1),E=Object(ue.a)(f,2),h=E[0],y=E[1],x=Object(n.useState)(!1),N=Object(ue.a)(x,2),j=N[0],C=N[1],k=Object(n.useState)(""),A=Object(ue.a)(k,2),U=A[0],F=A[1],M=Object(n.useState)(null),R=Object(ue.a)(M,2),P=R[0],_=R[1],I=Object(n.useState)(!1),L=Object(ue.a)(I,2),B=L[0],V=L[1],G=Object(n.useState)(!1),K=Object(ue.a)(G,2),Y=K[0],J=K[1],W=Object(n.useState)(null),Q=Object(ue.a)(W,2),X=Q[0],Z=Q[1],$=Object(n.useState)(!1),ee=Object(ue.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(ue.a)(ne,2),ce=re[0],le=re[1],se=Object(n.useState)(!1),oe=Object(ue.a)(se,2),ie=oe[0],de=oe[1],me=Object(n.useState)(!1),pe=Object(ue.a)(me,2),he=pe[0],ve=pe[1],be=Object(n.useState)(null),we=Object(ue.a)(be,2),ye=we[0],ge=we[1],xe={display:0===a.files.length?"none":""},Oe=!0===s?"Remove selection":"Select all",Ne=function(){o(!1),p([]);for(var e=document.getElementsByClassName("checkbox"),t=0;t<e.length;t++)"checkbox"===e[t].type&&(e[t].checked=!1)};return 0===t.length?r.a.createElement("div",null,"No files"):r.a.createElement("div",{className:"tablecontainer"},r.a.createElement(at,{showEnterPassword:ie,setShowEnterPassword:de,handleDownload:function(e,t){var n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),r.prev=1,r.next=4,m.a.awrap(g({password:e,file:P.name}));case 4:n=r.sent,a.changeFile(n.data),a.handleNotification("File encrypted",H),_(null),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),Ee(r.t0,a);case 13:case"end":return r.stop()}}),null,null,[[1,10]])}}),r.a.createElement(at,{showEnterPassword:he,setShowEnterPassword:ve,handleDownload:function(e,t){var n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),r.prev=1,r.next=4,m.a.awrap(b({password:e,file:P.name}));case 4:n=r.sent,a.changeFile(n.data),a.handleNotification("File decrypted",H),_(null),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),Ee(r.t0,a);case 13:case"end":return r.stop()}}),null,null,[[1,10]])}}),r.a.createElement(at,{showEnterPassword:te,setShowEnterPassword:ae,handleDownload:function(e,t){var n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.preventDefault(),r.next=4,m.a.awrap(w(ye.id,e));case 4:return n=r.sent,Qe()(n.data,ye.name),a.addLastUsed(ye,a.user),a.handleNotification("Download started...",2500),r.next=10,m.a.awrap(v(ye.id));case 10:Ne(),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),401===r.t0.response.status?a.handleError(r.t0.response.statusText,q):404===r.t0.response.status?a.handleError(r.t0.response.statusText,q):Ee(r.t0,a);case 16:case"end":return r.stop()}}),null,null,[[0,13]])}}),r.a.createElement(at,{showEnterPassword:ce,setShowEnterPassword:le,handleDownload:function(e,t){return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:try{t.preventDefault(),d.map((function(t){var n,r;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0===t.password){c.next=11;break}return c.next=3,m.a.awrap(w(t.id,e));case 3:return n=c.sent,Qe()(n.data,t.name),a.addLastUsed(t,a.user),a.handleNotification("Download started...",2500),c.next=9,m.a.awrap(v(t.id));case 9:c.next=17;break;case 11:return c.next=13,m.a.awrap(S(t.id));case 13:r=c.sent,Qe()(r.data,t.name),a.addLastUsed(t,a.user),a.handleNotification("Download started...",2500);case 17:case"end":return c.stop()}}))})),Ne()}catch(r){401===r.response.status?a.handleError(r.response.statusText,q):404===r.response.status?a.handleError(r.response.statusText,q):Ee(r,a)}case 1:case"end":return n.stop()}}))}}),r.a.createElement(tt,{showConfirmation:B,setConfirmation:V,handleConfirmation:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0===X.password){e.next=6;break}return e.next=4,m.a.awrap(T(X.id));case 4:e.next=8;break;case 6:return e.next=8,m.a.awrap(D(X.id));case 8:a.removeFile(X),a.handleNotification("File ".concat(X.name," removed"),H),a.removeLastUsed(X.id,a.user),a.setFiles(a.files.filter((function(e){return e.id!==X.id}))),Ne(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),Ee(e.t0,a);case 18:case"end":return e.stop()}}),null,null,[[0,15]])}}),r.a.createElement(tt,{showConfirmation:Y,setConfirmation:J,handleConfirmation:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:try{d.map((function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e.password){t.next=5;break}return t.next=3,m.a.awrap(T(e.id));case 3:t.next=7;break;case 5:return t.next=7,m.a.awrap(D(e.id));case 7:a.removeFile(e),a.setFiles(a.files.filter((function(t){return t.id!==e.id}))),a.removeLastUsed(e.id,a.user),a.handleNotification("File ".concat(e.name," removed"),H),Ne();case 12:case"end":return t.stop()}}))}))}catch(t){Ee(t,a)}case 1:case"end":return e.stop()}}))}}),r.a.createElement(Ze,{showDialog:h,handleShowDialog:y,link:U}),r.a.createElement(et,{showDialog:j,handleShowDialog:C,file:P}),r.a.createElement(Je.a,{responsive:!0,className:"table table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Select"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Encrypted"),r.a.createElement("th",null,"Size"),r.a.createElement("th",null,"Date"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("input",{onClick:function(t){return function(e,t){t.target.checked?p(d.concat(e)):p(d.filter((function(t){return t.id!==e.id})))}(e,t)},type:"checkbox",className:"checkbox"})),r.a.createElement("td",null,e.category),r.a.createElement("td",null,_e.formatName(e.name)),r.a.createElement("td",null,void 0===e.password?"":"x"),r.a.createElement("td",null,e.size),r.a.createElement("td",null,e.date),r.a.createElement("td",null,r.a.createElement(fe.a,{"data-toggle":"tooltip","data-placement":"top",title:"Download file",onClick:function(){return function(e){var t;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===e.password){n.next=5;break}ge(e),ae(!0),n.next=18;break;case 5:return n.prev=5,n.next=8,m.a.awrap(S(e.id));case 8:t=n.sent,Qe()(t.data,e.name),a.addLastUsed(e,a.user),a.handleNotification("Download started...",2500),Ne(),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(5),401===n.t0.response.status?a.handleError(n.t0.response.statusText,q):404===n.t0.response.status?a.handleError(n.t0.response.statusText,q):Ee(n.t0,a);case 18:case"end":return n.stop()}}),null,null,[[5,15]])}(e)}},r.a.createElement("i",{className:"fa fa-download"})),r.a.createElement(fe.a,{"data-toggle":"tooltip","data-placement":"top",title:"Delete file",onClick:function(){return function(e){Z(e),V(!0)}(e)}},r.a.createElement("i",{className:"fa fa-trash"})),r.a.createElement(fe.a,{style:{display:void 0!==e.password?"none":""},"data-toggle":"tooltip","data-placement":"top",title:"Create download link",onClick:function(){return function(e){var t;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.a.awrap(O(e.id));case 3:t=n.sent,y(!0),F("".concat(z).concat(t.data.hash)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Ee(n.t0,a);case 11:case"end":return n.stop()}}),null,null,[[0,8]])}(e)}},r.a.createElement("i",{className:"fa fa-reply"})),r.a.createElement(fe.a,{style:{display:void 0!==e.password?"none":""},"data-toggle":"tooltip","data-placement":"top",title:"Create and send download link per email",onClick:function(){return function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:_(e),C(!0);case 2:case"end":return t.stop()}}))}(e)}},r.a.createElement("i",{className:"fa fa-envelope"})),r.a.createElement(fe.a,{style:{display:void 0!==e.password?"":"none"},"data-toggle":"tooltip","data-placement":"top",title:"Decrypt",onClick:function(){return function(e){ve(!0),_(e)}(e)}},r.a.createElement("i",{className:"fa fa-key\t"})),r.a.createElement(fe.a,{style:{display:void 0!==e.password?"none":""},"data-toggle":"tooltip","data-placement":"top",title:"Encrypt",onClick:function(){return function(e){de(!0),_(e)}(e)}},r.a.createElement("i",{className:"fa fa-key\t"}))))})))),r.a.createElement("div",{style:xe},r.a.createElement(fe.a,{onClick:function(){var e=document.getElementsByClassName("checkbox");if(o(!s),!1===s){for(var t=0;t<e.length;t++)"checkbox"===e[t].type&&(e[t].checked=!0);p(a.files)}else{for(var n=0;n<e.length;n++)"checkbox"===e[n].type&&(e[n].checked=!1);p([])}}},Oe),r.a.createElement(fe.a,{onClick:function(){return J(!0)}},r.a.createElement("i",{className:"fa fa-trash"})),r.a.createElement(fe.a,{onClick:function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!1,d.map((function(t){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:void 0!==t.password&&(e=!0);case 1:case"end":return a.stop()}}))})),e)le(!0);else try{d.map((function(e){var t;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(S(e.id));case 2:t=n.sent,Qe()(t.data,e.name),a.addLastUsed(e,a.user),a.handleNotification("Download started...",2500);case 6:case"end":return n.stop()}}))})),Ne()}catch(n){Ee(n,a)}case 3:case"end":return t.stop()}}))}},r.a.createElement("i",{className:"fa fa-folder"}))))})),ct={getDocuments:function(){return function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(U());case 2:if(400!==(t=n.sent).status){n.next=5;break}return n.abrupt("return");case 5:a=t.data,e({type:"GETDOCUMENTS",data:a});case 7:case"end":return n.stop()}}))}},getFiles:ce,getPictures:function(){return function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(A());case 2:if(400!==(t=n.sent).status){n.next=5;break}return n.abrupt("return");case 5:a=t.data,e({type:"GETPICTURES",data:a});case 7:case"end":return n.stop()}}))}},getFavourites:function(e){return function(t){var a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.a.awrap(N(e));case 2:if(400!==(a=r.sent).status){r.next=5;break}return r.abrupt("return");case 5:n=a.data,t({type:"GETFAVOURITES",data:n});case 7:case"end":return r.stop()}}))}},getMusic:function(){return function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(x());case 2:if(400!==(t=n.sent).status){n.next=5;break}return n.abrupt("return");case 5:a=t.data,e({type:"GETMUSIC",data:a});case 7:case"end":return n.stop()}}))}}},lt=Object(s.b)((function(e){return{user:e.user,files:e.files}}),ct)((function(e){var t=Object(n.useState)("Favourite"),a=Object(ue.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),o=Object(ue.a)(s,2),u=o[0],i=o[1],d=Object(n.useState)(""),m=Object(ue.a)(d,2),p=m[0],f=m[1],E=""===u?e.files:e.files.filter((function(e){return _e.formatName(e.name).includes(u)})),h=""===p?E:E.filter((function(e){return e.date.includes(p)}));return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"filter"},r.a.createElement("b",null,"Filter"),r.a.createElement("br",null),"Name: ",r.a.createElement("input",{type:"search",onChange:function(e){e.preventDefault(),i(e.target.value)}}),"Date: ",r.a.createElement("input",{type:"search",onChange:function(e){e.preventDefault(),f(e.target.value)}}))),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(Ge.a,{id:"controlled-tab-example",activeKey:c,onSelect:function(t){l(t),"All"===t?e.getFiles():"Document"===t?e.getDocuments():"Picture"===t?e.getPictures():"Music"===t?e.getMusic():"Favourite"===t&&e.getFavourites(e.user.id)}},r.a.createElement(Ke.a,{eventKey:"Favourite",title:"Favourites"},r.a.createElement(rt,{filteredFiles:h})),r.a.createElement(Ke.a,{eventKey:"LastUsed",title:"Last Used"},r.a.createElement(rt,{filteredFiles:e.user.lastUsed})),r.a.createElement(Ke.a,{eventKey:"All",title:"All"},r.a.createElement(rt,{filteredFiles:h})),r.a.createElement(Ke.a,{eventKey:"Document",title:"Documents"},r.a.createElement(rt,{filteredFiles:h})),r.a.createElement(Ke.a,{eventKey:"Picture",title:"Pictures"},r.a.createElement(rt,{filteredFiles:h})),r.a.createElement(Ke.a,{eventKey:"Music",title:"Music"},r.a.createElement(rt,{filteredFiles:h}))))))})),st={handleNotification:ne,handleError:de,updateUser:function(e){return function(t){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t({type:"UPDATEDETAILS",details:e});case 1:case"end":return a.stop()}}))}},changeUser:function(e){return function(t){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t({type:"CHANGEUSER",user:e});case 1:case"end":return a.stop()}}))}}},ot=Object(s.b)((function(e){return{user:e.user,users:e.users}}),st)((function(e){var t=Object(n.useState)(""),a=Object(ue.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),o=Object(ue.a)(s,2),u=o[0],i=o[1],d=Object(n.useState)(""),p=Object(ue.a)(d,2),f=p[0],E=p[1],h=Object(n.useState)(""),v=Object(ue.a)(h,2),b=v[0],w=v[1],y=Object(n.useState)(""),g=Object(ue.a)(y,2),x=g[0],O=g[1],N=Object(n.useState)(""),S=Object(ue.a)(N,2),j=S[0],C=S[1],k=!1,T=!1,D=!1;if(null!==e.user){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement(pe.a,{onSubmit:function(t){var a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),""===u&&(k=!0),""===c&&(T=!0),""===f&&(D=!0),n.prev=4,n.next=7,m.a.awrap(R({username:!0===T?e.user.username:c,name:!0===k?e.user.name:u,email:!0===D?e.user.email:f,active:e.user.active,role:e.user.role},e.user.id));case 7:a=n.sent,e.updateUser(a.data),e.changeUser(a.data),e.handleNotification("User updated",H),l(""),i(""),E(""),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(4),Ee(n.t0,e);case 19:case"end":return n.stop()}}),null,null,[[4,16]])}},r.a.createElement(Je.a,{className:"table"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Change user details"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Username"),r.a.createElement("td",null,r.a.createElement("input",{id:"idUsername",required:!0,autoComplete:"off",defaultValue:e.user.username,type:"text",onChange:function(e){var t=e.target;return l(t.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,r.a.createElement("input",{id:"idName",required:!0,autoComplete:"off",defaultValue:e.user.name,type:"text",onChange:function(e){var t=e.target;return i(t.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"E-Mail"),r.a.createElement("td",null,r.a.createElement("input",{id:"idEmail",required:!0,autoComplete:"off",defaultValue:e.user.email,type:"email",onChange:function(e){var t=e.target;return E(t.value)}}))))),r.a.createElement(fe.a,{id:"idSaveProfile",type:"Submit"},"Save changes"))),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement(pe.a,{onSubmit:function(t){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),b===x){a.next=5;break}e.handleError("Passwords have to be the same",q),a.next=29;break;case 5:if(""!==b&&""!==x&&(""!==b||""!==x)){a.next=9;break}e.handleError("Password field can not be empty",q),a.next=29;break;case 9:if(b!==j){a.next=13;break}e.handleError("Old and new passwords are the same",q),a.next=29;break;case 13:return a.prev=13,a.next=16,m.a.awrap(L({password:j},e.user.id));case 16:if(200!==a.sent.status){a.next=24;break}return a.next=20,m.a.awrap(P({password:b},e.user.id));case 20:e.handleNotification("Password updated",H),C(""),w(""),O("");case 24:a.next=29;break;case 26:a.prev=26,a.t0=a.catch(13),Ee(a.t0,e);case 29:case"end":return a.stop()}}),null,null,[[13,26]])}},r.a.createElement(Je.a,{className:"table"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Change password"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Old password"),r.a.createElement("td",null,r.a.createElement("input",{autoComplete:"off",required:!0,id:"idOldPassword",type:"password",onChange:function(e){var t=e.target;return C(t.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"New password"),r.a.createElement("td",null,r.a.createElement("input",{autoComplete:"off",required:!0,id:"idNewPassword1",type:"password",onChange:function(e){var t=e.target;return w(t.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"Repeat new password"),r.a.createElement("td",null,r.a.createElement("input",{autoComplete:"off",required:!0,id:"idNewPassword2",type:"password",onChange:function(e){var t=e.target;return O(t.value)}}))))),r.a.createElement(fe.a,{id:"idSavePassword",type:"Submit"},"Save changes"))))}})),ut={handleNotification:ne,handleError:de},it=Object(s.b)(null,ut)((function(e){var t=e.showDialog,a=e.handleShowDialog,c=e.user,l=Object(Ye.a)(e,["showDialog","handleShowDialog","user"]),s=Object(n.useState)(""),o=Object(ue.a)(s,2),u=o[0],i=o[1],d=Object(n.useState)(""),p=Object(ue.a)(d,2),f=p[0],E=p[1],h=Object(n.useState)(""),v=Object(ue.a)(h,2),b=v[0],w=v[1];if(null===c)return null;var y=function(){a(!1)},g=function(e){var t=e.target.value;t.replace(/\s/g,""),c.role=t};return r.a.createElement("div",null,r.a.createElement(ze.a,{show:t,onHide:y},r.a.createElement(ze.a.Header,{closeButton:!0},r.a.createElement(ze.a.Title,null,"Edit user details ")),r.a.createElement(pe.a,{onSubmit:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),""!==u&&(c.name=u),""!==f&&(c.username=f),""!==b&&(c.email=b),t.prev=4,t.next=7,m.a.awrap(R(c,c.id));case 7:200===t.sent.status&&(l.handleNotification("User got updated!",H),a(!1)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),Ee(t.t0,l);case 14:case"end":return t.stop()}}),null,null,[[4,11]])}},r.a.createElement(ze.a.Body,null,r.a.createElement("table",{className:"table .table-striped",width:"10"},r.a.createElement("thead",{className:"thead-dark"}),r.a.createElement("tbody",{width:"10"},r.a.createElement("tr",null,r.a.createElement("td",{width:"10"},"Username:"),r.a.createElement("td",null,r.a.createElement("input",{id:"idChangeUsername",autoComplete:"off",required:!0,defaultValue:c.username,type:"text",onChange:function(e){var t=e.target;return E(t.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",{width:"10"},"Fullname:"),r.a.createElement("td",null,r.a.createElement("input",{autoComplete:"off",id:"idChangeName",defaultValue:c.name,type:"text",onChange:function(e){var t=e.target;return i(t.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",{width:"10"},"E-Mail:"),r.a.createElement("td",null,r.a.createElement("input",{autoComplete:"off",id:"idChangeEmail",required:!0,defaultValue:c.email,type:"email",onChange:function(e){var t=e.target;return w(t.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",{width:"10"},"Role:"),r.a.createElement("td",null,r.a.createElement("input",{id:"idAdmin",autoComplete:"off",type:"radio",name:"role",value:"admin",defaultChecked:"admin"===c.role,onChange:g}),"admin",r.a.createElement("input",{id:"idUser",autoComplete:"off",type:"radio",name:"role",value:"user",defaultChecked:"user"===c.role,onChange:g}),"user")),r.a.createElement("tr",null,r.a.createElement("td",{width:"10"},"Active:"),r.a.createElement("td",null,r.a.createElement("input",{id:"idActive",autoComplete:"off",type:"checkbox",name:"active",defaultChecked:c.active,onChange:function(){c.active=!c.active}})))))),r.a.createElement(ze.a.Footer,null,r.a.createElement(fe.a,{variant:"secondary",id:"idClose",onClick:y},"Close"),r.a.createElement(fe.a,{variant:"primary",id:"idSave",type:"submit"},"Save Changes")))))})),dt={handleNotification:ne,handleError:de},mt=Object(s.b)(null,dt)((function(e){var t=e.showDialog,a=e.handleShowDialog,c=e.user,l=Object(Ye.a)(e,["showDialog","handleShowDialog","user"]),s=Object(n.useState)(""),o=Object(ue.a)(s,2),u=o[0],i=o[1];if(null===c)return null;var d=function(){a(!1)};return r.a.createElement("div",null,r.a.createElement(ze.a,{show:t,onHide:d},r.a.createElement(ze.a.Header,{closeButton:!0},r.a.createElement(ze.a.Title,null,"Edit user details ")),r.a.createElement(pe.a,{onSubmit:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),t.prev=1,""===u){t.next=9;break}return t.next=5,m.a.awrap(P({password:u},c.id));case 5:200===t.sent.status&&(l.handleNotification("User password got updated!",H),a(!1)),t.next=10;break;case 9:a(!1);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),Ee(t.t0,l);case 15:case"end":return t.stop()}}),null,null,[[1,12]])}},r.a.createElement(ze.a.Body,null,r.a.createElement("table",{className:"table .table-striped",width:"10"},r.a.createElement("thead",{className:"thead-dark"}),r.a.createElement("tbody",{width:"10"},r.a.createElement("tr",null,r.a.createElement("td",{width:"10"},"Password:"),r.a.createElement("td",null,r.a.createElement("input",{autoComplete:"off",type:"password",onChange:function(e){var t=e.target;return i(t.value)}})))))),r.a.createElement(ze.a.Footer,null,r.a.createElement(fe.a,{variant:"secondary",onClick:d},"Close"),r.a.createElement(fe.a,{variant:"primary",type:"submit"},"Save Changes")))))})),pt={handleNotification:ne,handleError:de,removeUser:function(e){return function(t){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t({type:"REMOVEUSER",user:e});case 1:case"end":return a.stop()}}))}},getUsers:he},ft=Object(s.b)((function(e){return{user:e.user,users:e.users}}),pt)((function(e){var t=Object(n.useState)(!1),a=Object(ue.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(!1),o=Object(ue.a)(s,2),u=o[0],i=o[1],d=Object(n.useState)(null),p=Object(ue.a)(d,2),f=p[0],E=p[1],h=Object(n.useState)(!1),v=Object(ue.a)(h,2),b=v[0],w=v[1],y=Object(n.useState)(null),g=Object(ue.a)(y,2),x=g[0],O=g[1];if("admin"!==e.user.role)return null;var N={display:"admin"===e.user.role?"":"none"};return r.a.createElement("div",{className:"container"},r.a.createElement(tt,{showConfirmation:b,setConfirmation:w,handleConfirmation:function(){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,m.a.awrap(M(x.id));case 3:t=a.sent,e.getUsers(e.user),e.handleNotification(t.data,H),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),Ee(a.t0,e);case 11:case"end":return a.stop()}}),null,null,[[0,8]])}}),r.a.createElement(it,{showDialog:c,handleShowDialog:l,user:f}),r.a.createElement(mt,{showDialog:u,handleShowDialog:i,user:f}),r.a.createElement(Je.a,{responsive:!0,className:"table table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Fullname"),r.a.createElement("th",null,"Mail"),r.a.createElement("th",null,"Role"),r.a.createElement("th",null,"Active"))),r.a.createElement("tbody",null,e.users.map((function(e){return r.a.createElement("tr",{id:"idUserRow",key:e.id},r.a.createElement("td",{id:"idUsername"},e.username),r.a.createElement("td",{id:"idName"},e.name),r.a.createElement("td",{id:"idEmail"},e.email),r.a.createElement("td",{id:"idRole"},e.role),r.a.createElement("td",null,e.active.toString()),r.a.createElement("td",{style:N},r.a.createElement(fe.a,{id:"idChangeUser","data-toggle":"tooltip","data-placement":"top",title:"Edit profile",onClick:function(){return function(e){E(e),l(!0)}(e)}},r.a.createElement("i",{className:"fa fa-drivers-license-o\t"})),r.a.createElement(fe.a,{id:"idChangePassword","data-toggle":"tooltip","data-placement":"top",title:"Change password",onClick:function(){return function(e){E(e),i(!0)}(f)}},r.a.createElement("i",{className:"fa fa-lock\t"})),r.a.createElement(fe.a,{id:"idDelete","data-toggle":"tooltip","data-placement":"top",title:"Remove user",onClick:function(){return function(e){O(e),w(!0)}(e)}},r.a.createElement("i",{className:"fa fa-trash"}))))})))))})),Et={addType:function(e){return function(t){var a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.a.awrap(G(e));case 2:a=r.sent,n=a.data,t({type:"ADDTYPE",data:n});case 5:case"end":return r.stop()}}))}},handleNotification:ne,handleError:de},ht=Object(s.b)(null,Et)((function(e){var t=e.showAddMime,a=e.handleShowAddMime,c=Object(Ye.a)(e,["showAddMime","handleShowAddMime"]),l=Object(n.useState)(""),s=Object(ue.a)(l,2),o=s[0],u=s[1],i=Object(n.useState)(""),d=Object(ue.a)(i,2),p=d[0],f=d[1],E=function(){return a(!1)};return r.a.createElement("div",null,r.a.createElement(ze.a,{show:t,onHide:E},r.a.createElement(ze.a.Header,{closeButton:!0},r.a.createElement(ze.a.Title,null,"Add new MIME-Type")),r.a.createElement(pe.a,{onSubmit:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,m.a.awrap(c.addType({name:o,ending:p}));case 4:c.handleNotification("MIME-Type successfully added",H),a(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),Ee(t.t0,c);case 11:case"end":return t.stop()}}),null,null,[[1,8]])}},r.a.createElement(ze.a.Body,null,r.a.createElement("table",{className:"table .table-striped",width:"10"},r.a.createElement("thead",{className:"thead-dark"}),r.a.createElement("tbody",{width:"10"},r.a.createElement("tr",null,r.a.createElement("td",{width:"10"},"Name:"),r.a.createElement("td",null,r.a.createElement("input",{id:"idAddName",type:"text",required:!0,onChange:function(e){var t=e.target;return u(t.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",{width:"10"},"Ending:"),r.a.createElement("td",null,r.a.createElement("input",{type:"text",id:"idAddEnding",required:!0,onChange:function(e){var t=e.target;return f(t.value)}})))))),r.a.createElement(ze.a.Footer,null,r.a.createElement(fe.a,{variant:"secondary",id:"idClose",onClick:E},"Close"),r.a.createElement(fe.a,{variant:"primary",id:"idSave",type:"submit"},"Add MIME-Type")))))})),vt={removeType:function(e){return function(t){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t({type:"REMOVETYPE",id:e.id});case 1:case"end":return a.stop()}}))}},handleError:de,handleNotification:ne},bt=Object(s.b)((function(e){return{mimetypes:e.mimetypes}}),vt)((function(e){var t=Object(n.useState)(!1),a=Object(ue.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),o=Object(ue.a)(s,2),u=o[0],i=o[1],d=Object(n.useState)(null),p=Object(ue.a)(d,2),f=p[0],E=p[1],h=Object(n.useState)(!1),v=Object(ue.a)(h,2),b=v[0],w=v[1],y=""===u?e.mimetypes:e.mimetypes.filter((function(e){return e.name.includes(u)}));return r.a.createElement("div",{className:"container"},r.a.createElement(tt,{showConfirmation:b,setConfirmation:w,handleConfirmation:function(){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,m.a.awrap(J(f.id));case 3:t=a.sent,e.removeType(f),e.handleNotification(t.data,H),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),Ee(a.t0,e);case 11:case"end":return a.stop()}}),null,null,[[0,8]])}}),r.a.createElement(ht,{showAddMime:c,handleShowAddMime:l}),r.a.createElement(Je.a,{responsive:!0,className:"table table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Ending"),r.a.createElement("th",null,r.a.createElement("input",{onChange:function(e){e.preventDefault(),i(e.target.value)}})))),r.a.createElement("tbody",null,y.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.ending),r.a.createElement("td",null,r.a.createElement(fe.a,{id:"idDeleteMime","data-toggle":"tooltip","data-placement":"top",title:"Delete type",onClick:function(){return E(e),void w(!0)}},r.a.createElement("i",{className:"fa fa-trash"}))))})))),r.a.createElement(fe.a,{id:"idAddMime",onClick:function(){return l(!0)}},"Add new MimeType"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{style:{textAlign:"left"}},r.a.createElement("b",null,"Allowed MIME-Types to upload files.")))})),wt={getUsers:he,getTypes:se},yt=Object(s.b)((function(e){return{users:e.users,user:e.user}}),wt)((function(e){var t=Object(n.useState)("Users"),a=Object(ue.a)(t,2),c=a[0],l=a[1];if("admin"!==e.user.role)return null;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(Ge.a,{id:"controlled-tab-example",activeKey:c,onSelect:function(t){l(t),"Users"===t?e.getUsers(e.user):"Mimetypes"===t&&e.getTypes()}},r.a.createElement(Ke.a,{eventKey:"Users",id:"idUsers",title:"Users"},r.a.createElement(ft,null)),r.a.createElement(Ke.a,{eventKey:"Mimetypes",id:"idMimes",title:"MIME-Types"},r.a.createElement(bt,null)))))})),gt={removeUser:te,handleNotification:ne},xt=Object(s.b)((function(e){return{user:e.user}}),gt)((function(e){return r.a.createElement("div",{className:"footer"},e.user.username," is logged in! ",r.a.createElement("a",{className:"logout",href:"/",onClick:function(){e.removeUser(),e.handleNotification("Logout successfull!",H)}},"Logout"))})),Ot=a(226),Nt=a(227),St=function(){return function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(Z());case 2:t=n.sent,a=t.data,e({type:"GETNOTES",data:a});case 5:case"end":return n.stop()}}))}},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETNOTES":return t.data;case"ADDNOTE":return e.concat(t.data);case"REMOVENOTE":return e.filter((function(e){return e.id!==t.note.id}));default:return e}},Ct={handleNotification:ne,handleError:de,removeNote:function(e){return function(t){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t({type:"REMOVENOTE",note:e});case 1:case"end":return a.stop()}}))}}},kt=Object(s.b)(null,Ct)((function(e){var t=e.note,a=Object(Ye.a)(e,["note"]),c=Object(n.useState)(!1),l=Object(ue.a)(c,2),s=l[0],o=l[1];return r.a.createElement("div",null,r.a.createElement(tt,{showConfirmation:s,setConfirmation:o,handleConfirmation:function(){var e;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.a.awrap($(t.id));case 3:e=n.sent,a.removeNote(t),a.handleNotification(e.data,H),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Ee(n.t0,a);case 11:case"end":return n.stop()}}),null,null,[[0,8]])}}),r.a.createElement(Ot.a,null,r.a.createElement(Nt.a,null,r.a.createElement(Nt.a.Header,null,r.a.createElement(Ot.a.Toggle,{as:fe.a,variant:"link",eventKey:"0"},t.title)),r.a.createElement(Ot.a.Collapse,{eventKey:"0"},r.a.createElement(Nt.a.Body,null,t.body,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"________________________________"),r.a.createElement("p",null,"Created: ",_e.formatTime(t.createdAt)),r.a.createElement("p",null,"Updated: ",_e.formatTime(t.updatedAt)),r.a.createElement(fe.a,{id:"deleteNote","data-toggle":"tooltip","data-placement":"top",title:"Delete note",onClick:function(){return o(!0)}},r.a.createElement("i",{className:"fa fa-trash"})))))))})),Tt={addNote:function(e){return function(t){var a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.a.awrap(Q(e));case 2:a=r.sent,n=a.data,t({type:"ADDNOTE",data:n});case 5:case"end":return r.stop()}}))}},handleNotification:ne,handleError:de,getNotes:St},Dt=Object(s.b)(null,Tt)((function(e){var t=e.showAddNote,a=e.handleShowAddNote,c=Object(Ye.a)(e,["showAddNote","handleShowAddNote"]),l=Object(n.useState)(""),s=Object(ue.a)(l,2),o=s[0],u=s[1],i=Object(n.useState)(""),d=Object(ue.a)(i,2),p=d[0],f=d[1],E=function(){return a(!1)};return r.a.createElement("div",null,r.a.createElement(ze.a,{show:t,onHide:E},r.a.createElement(ze.a.Header,{closeButton:!0},r.a.createElement(ze.a.Title,null,"Add new Note ")),r.a.createElement(pe.a,{onSubmit:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,m.a.awrap(c.addNote({title:o,body:p}));case 4:return t.next=6,m.a.awrap(c.getNotes());case 6:c.handleNotification("Note successfully added",H),a(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),Ee(t.t0,c);case 13:case"end":return t.stop()}}),null,null,[[1,10]])}},r.a.createElement(ze.a.Body,null,r.a.createElement("table",{className:"table .table-striped"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Title:"),r.a.createElement("td",null,r.a.createElement("input",{id:"title",type:"text",required:!0,onChange:function(e){var t=e.target;return u(t.value)}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"Body:"),r.a.createElement("td",null,r.a.createElement("textarea",{id:"body",rows:"4",cols:"40",type:"text",required:!0,onChange:function(e){var t=e.target;return f(t.value)}})))))),r.a.createElement(ze.a.Footer,null,r.a.createElement(fe.a,{id:"cancel",variant:"secondary",onClick:E},"Close"),r.a.createElement(fe.a,{id:"save",variant:"primary",type:"submit"},"Add Note")))))})),At=Object(s.b)((function(e){return{notes:e.notes}}),null)((function(e){var t=Object(n.useState)(!1),a=Object(ue.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),o=Object(ue.a)(s,2),u=o[0],i=o[1],d=""===u?e.notes:e.notes.filter((function(e){return e.title.includes(u)}));return r.a.createElement("div",{className:"notes"},"Filter: ",r.a.createElement("input",{id:"idNoteFilter",onChange:function(e){e.preventDefault(),i(e.target.value)}}),"  ",r.a.createElement(fe.a,{id:"addNote","data-toggle":"tooltip","data-placement":"top",title:"Add new note",onClick:function(){return l(!0)}},r.a.createElement("i",{className:"fa fa-plus"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Dt,{showAddNote:c,handleShowAddNote:l}),d.map((function(e){return r.a.createElement(kt,{note:e,key:e.id})})))})),Ut={setUser:ee,removeUser:te,handleNotification:ne,getFiles:ce,getTypes:se,getUsers:he,getNotes:St},Ft=Object(s.b)((function(e){return{user:e.user,users:e.users}}),Ut)((function(e){if(Object(n.useEffect)((function(){var t=window.localStorage.getItem("loggedappUser");if(t){var a=JSON.parse(t);e.setUser(a),e.getTypes(),e.getNotes(),"admin"===a.role&&e.getUsers(a)}}),[]),null===e.user)return r.a.createElement("div",{className:"bg"},r.a.createElement(Ve,null),r.a.createElement(Ne,null),r.a.createElement("div",{className:"container2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-15"},r.a.createElement(o.a,null,r.a.createElement("div",{className:"header"},"SecureBox"),r.a.createElement("br",null),r.a.createElement(o.b,{className:"link",to:"/"},"Login"),r.a.createElement(o.b,{className:"link",to:"/registration"},"Registration"),r.a.createElement("br",null),r.a.createElement(u.a,{exact:!0,path:"/",render:function(){return r.a.createElement(we,null)}}),r.a.createElement(u.a,{exact:!0,path:"/registration",render:function(){return r.a.createElement(Oe,null)}}))))));var t={display:"admin"===e.user.role?"":"none"};return r.a.createElement("div",{className:"bg1"},r.a.createElement(Ve,null),r.a.createElement(Ne,null),r.a.createElement(o.a,null,r.a.createElement("div",{className:"container3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"header"},"SecureBox"),r.a.createElement("br",null),r.a.createElement(o.b,{className:"link",to:"/"},"Home"),r.a.createElement(o.b,{className:"link",to:"/app/upload"},"Upload"),r.a.createElement(o.b,{className:"link",to:"/app/allfiles"},"Files"),r.a.createElement(o.b,{className:"link",to:"/app/notes"},"Notes"),r.a.createElement(o.b,{className:"link",to:"/app/profile"},"Profile"),r.a.createElement(o.b,{style:t,className:"link",to:"/admin"},"Admin"),r.a.createElement(u.a,{exact:!0,path:"/",render:function(){return r.a.createElement(Fe,null)}}),r.a.createElement(u.a,{exact:!0,path:"/app/upload",render:function(e){return r.a.createElement(qe,e)}}),r.a.createElement(u.a,{exact:!0,path:"/app/allfiles",render:function(e){return r.a.createElement(lt,e)}}),r.a.createElement(u.a,{exact:!0,path:"/app/notes",render:function(e){return r.a.createElement(At,e)}}),r.a.createElement(u.a,{exact:!0,path:"/app/profile",render:function(e){return r.a.createElement(ot,e)}}),r.a.createElement(u.a,{exact:!0,path:"/app/admin",render:function(e){return r.a.createElement(yt,e)}}),r.a.createElement("br",null),r.a.createElement("br",null)))),r.a.createElement("br",null),r.a.createElement(xt,null)))})),Mt=a(41),Rt=a(120),Pt=a(121),_t=Object(Mt.combineReducers)({user:ae,users:ve,error:me,notification:re,files:le,mimetypes:oe,notes:jt}),It=Object(Mt.createStore)(_t,Object(Pt.composeWithDevTools)(Object(Mt.applyMiddleware)(Rt.a)));l.a.render(r.a.createElement(s.a,{store:It},r.a.createElement(Ft,null)),document.getElementById("root"))}},[[122,1,2]]]);
//# sourceMappingURL=main.f4ea7279.chunk.js.map